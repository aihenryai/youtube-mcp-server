# ============================================================================
# YouTube MCP Server - Environment Configuration
# ============================================================================

# ----------------------------------------------------------------------------
# REQUIRED: YouTube API Configuration
# ----------------------------------------------------------------------------

# YouTube Data API v3 Key (Required for read-only operations)
# Get yours at: https://console.cloud.google.com/apis/credentials
YOUTUBE_API_KEY=your_api_key_here

# ----------------------------------------------------------------------------
# OAuth2 Configuration (Optional - for write operations like playlist management)
# ----------------------------------------------------------------------------

# Set to 'true' to enable OAuth2 authentication
# Required for: playlist management, video upload, captions management, etc.
USE_OAUTH2=false

# ----------------------------------------------------------------------------
# Server Configuration
# ----------------------------------------------------------------------------

# Transport mode: 'stdio' (local, most secure) or 'http' (remote)
MCP_TRANSPORT=stdio

# Port for HTTP mode (ignored in stdio mode)
PORT=8080

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Environment: development, staging, production
ENVIRONMENT=production

# ----------------------------------------------------------------------------
# Security Configuration (HTTP Mode Only)
# ----------------------------------------------------------------------------

# Server API key for authentication (REQUIRED in HTTP mode)
# Generate a strong random key: openssl rand -hex 32
SERVER_API_KEY=

# CORS Allowed Origins (CRITICAL - MUST BE CONFIGURED FOR HTTP MODE)
# Comma-separated list of allowed origins
# Example: ALLOWED_ORIGINS=https://app1.com,https://app2.com
# NEVER use "*" in production!
ALLOWED_ORIGINS=

# Enable per-IP rate limiting
ENABLE_IP_RATE_LIMITING=true

# Maximum requests per IP per minute (HTTP mode)
MAX_REQUESTS_PER_IP_MINUTE=10

# üîê NEW v2.1: Advanced Security Features

# CORS Configuration
CORS_ENABLED=true

# Request Signature Validation (HMAC-SHA256)
# Optional high-security feature for critical deployments
# Provides request integrity and replay attack prevention
REQUEST_SIGNING_ENABLED=false

# Request signing secret (min 32 chars, auto-generated if not set)
# Generate: python -c "from utils.security.request_signer import generate_secure_secret; print(generate_secure_secret())"
REQUEST_SIGNING_SECRET=

# Security Event Logging
SECURITY_LOGGING_ENABLED=true
SECURITY_LOG_FILE=security.log
SECURITY_LOG_LEVEL=INFO

# üîê NEW v2.2: OAuth 2.1 Protected Resource Metadata (RFC 9728)
# Enables standard OAuth 2.1 discovery endpoint: /.well-known/oauth-protected-resource
OAUTH_METADATA_ENABLED=true

# Resource URI (auto-detected if not set)
# Example: https://youtube-mcp.your-domain.com
OAUTH_RESOURCE_URI=

# Require OAuth authentication for ALL tools (default: false)
# When false, only protected tools require authentication
OAUTH_REQUIRE_AUTHENTICATION=false

# ----------------------------------------------------------------------------
# Google Cloud Configuration (Production)
# ----------------------------------------------------------------------------

# Google Cloud Project ID (for Secret Manager)
GCP_PROJECT_ID=

# ----------------------------------------------------------------------------
# Performance Configuration
# ----------------------------------------------------------------------------

# Cache Configuration
CACHE_ENABLED=true
CACHE_TTL_SECONDS=3600

# Cache Encryption (NEW in v2.1) - üîê Recommended for sensitive data
# Encrypts cache files with Fernet (AES-128 + HMAC-SHA256)
CACHE_ENCRYPTION_ENABLED=true

# Rate Limiting (Global)
RATE_LIMIT_ENABLED=true
CALLS_PER_MINUTE=30
CALLS_PER_HOUR=1000

# Rate Limiting (Per-IP) - NEW in v2.1
PER_IP_RATE_LIMIT_ENABLED=true
PER_IP_CALLS_PER_MINUTE=10
PER_IP_CALLS_PER_HOUR=300

# ----------------------------------------------------------------------------
# Proxy Configuration (Optional)
# ----------------------------------------------------------------------------

PROXY_ENABLED=false
HTTP_PROXY=
HTTPS_PROXY=

# ============================================================================
# Security Notes:
# 1. Never commit this file with real values to version control
# 2. Use Secret Manager for production deployments
# 3. Rotate API keys every 90 days
# 4. Always configure ALLOWED_ORIGINS in HTTP mode
# 5. Use strong, random SERVER_API_KEY in HTTP mode
# 6. Per-IP rate limiting helps prevent single-user quota exhaustion
# ============================================================================
